cflag:
  summary: "Manage per-character key/value flags (GM-only)"
  visibility: gm
  synopsis:
    - "CFLAG SET <char> <flag> <value>"
    - "CFLAG CHECK <char> <flag>"
  body: |
    NAME
        cflag - manage per-character key/value flags

    SYNOPSIS
        CFLAG SET <char> <flag> <value>
        CFLAG CHECK <char> <flag>

    DESCRIPTION
        GMs may set or inspect arbitrary key/value flags on characters.
        The GM permission is granted only when the character has the 'is_gm' flag set to '1'.

    EXAMPLE
        CFLAG SET Alice is_gm 1
        CFLAG CHECK Alice is_gm

gminvis:
  summary: "Toggle perfect GM invisibility (GM-only)"
  visibility: gm
  synopsis:
    - "GMINVIS"
  body: |
    NAME
        gminvis - toggle perfect GM invisibility

    SYNOPSIS
        GMINVIS

    DESCRIPTION
        Toggles GM invisibility mode for your character. When GM-invisible:
        
        - You are completely hidden from non-GM players
        - You do not appear in the WHO list to non-GMs
        - You do not appear in room descriptions to non-GMs
        - Your arrivals and departures are not announced
        - Mobs cannot see you and will not aggro on you
        - Other GMs can still see you (marked with GMINVIS)
        
        This is perfect invisibility - unlike the invisibility spell,
        there is no way for non-GMs to detect you.
        
        The toggle persists until you use GMINVIS again or log out.

    EXAMPLE
        > gminvis
        You fade from mortal sight.
        
        > gminvis
        You become visible to mortals once more.

cset:
  summary: "Set a character's attribute to a specific value (GM-only)"
  visibility: gm
  synopsis:
    - "CSET <character> <attribute> <value>"
    - "CSET LIST"
  body: |
    NAME
        cset - set character attribute values

    SYNOPSIS
        CSET <character> <attribute> <value>
        CSET LIST

    DESCRIPTION
        A powerful GM command that allows direct modification of character
        attributes. Use CSET LIST to see all available attributes.
        
        Supported attribute categories:
        
        VITALS:
            hp, hpmax, mp, mpmax, mv, mvmax
        
        BASE ABILITIES:
            str, dex, con, int, wis, cha
        
        TRAINED ABILITIES:
            trained_str (tstr), trained_dex (tdex), trained_con (tcon),
            trained_int (tint), trained_wis (twis), trained_cha (tcha)
        
        SAVES:
            armor (ac), fortitude (fort), reflex (ref), will
        
        EQUIPMENT BONUSES:
            armor_equip, fort_equip, reflex_equip, will_equip
        
        CLASS & PROGRESSION:
            class, level, xp
        
        OTHER:
            age, room, autoflee, talents, gold, description

    ARGUMENTS
        character     The name of the target character.
        attribute     The attribute to modify (see list above).
        value         The new value to set.

    EXAMPLE
        cset Alice hp 100        -- set Alice's current HP to 100
        cset Bob str 18          -- set Bob's base strength to 18
        cset Charlie level 10    -- set Charlie's level to 10
        cset Dana gold 50000     -- give Dana 50000 gold
        cset Eve xp 500          -- set Eve's current XP to 500
        cset Frank talents 5     -- give Frank 5 talent points

    SEE ALSO
        cflag, promote, restore

cskill:
  summary: "Grant a skill to a character at a proficiency level (GM-only)"
  visibility: gm
  synopsis:
    - "CSKILL <character> <skill_id> [amount]"
    - "CSKILL LIST"
  body: |
    NAME
        cskill - grant a skill to a character or list available skills

    SYNOPSIS
        CSKILL <character> <skill_id> [amount]
        CSKILL LIST

    DESCRIPTION
        Grants a skill to a character regardless of their class, setting their
        proficiency to the specified amount (1-100). If the amount is omitted,
        defaults to 100 (mastered).

        This can also be used to update an existing skill's proficiency.
        
        Use CSKILL LIST to see all available skills and their IDs.

    ARGUMENTS
        character     The name of the target character.
        skill_id      The numeric ID of the skill to grant.
        amount        Optional proficiency level from 1 to 100. Defaults to 100.

    EXAMPLE
        cskill list              -- shows all skills with IDs
        cskill Alice 1           -- grants skill #1 to Alice at 100%
        cskill Bob 5 50          -- grants skill #5 to Bob at 50%

cspell:
  summary: "Grant a spell to a character at a proficiency level (GM-only)"
  visibility: gm
  synopsis:
    - "CSPELL <character> <spell_id> [amount]"
    - "CSPELL LIST"
  body: |
    NAME
        cspell - grant a spell to a character or list available spells

    SYNOPSIS
        CSPELL <character> <spell_id> [amount]
        CSPELL LIST

    DESCRIPTION
        Grants a spell to a character regardless of their class, setting their
        proficiency to the specified amount (1-100). If the amount is omitted,
        defaults to 100 (mastered).

        This can also be used to update an existing spell's proficiency.
        
        Use CSPELL LIST to see all available spells and their IDs.

    ARGUMENTS
        character     The name of the target character.
        spell_id      The numeric ID of the spell to grant.
        amount        Optional proficiency level from 1 to 100. Defaults to 100.

    EXAMPLE
        cspell list              -- shows all spells with IDs
        cspell Alice 1           -- grants spell #1 to Alice at 100%
        cspell Bob 5 50          -- grants spell #5 to Bob at 50%

ilist:
  summary: "Search item templates by name (GM-only)"
  visibility: gm
  synopsis:
    - "ILIST <search_string>"
  body: |
    NAME
        ilist - search item templates

    SYNOPSIS
        ILIST <search_string>

    DESCRIPTION
        Searches all item templates for names containing the given string.
        The search is case-insensitive and matches partial names.

        Results show ID, name, type, and a truncated description for each
        matching item template.

    ARGUMENTS
        search_string   Text to search for in item names.

    EXAMPLE
        ilist dag              -- finds "dagger", "small dagger", etc.
        ilist sword            -- finds all swords
        ilist plate            -- finds plate armor pieces

ifind:
  summary: "Find all instances of an item template in the game (GM-only)"
  visibility: gm
  synopsis:
    - "IFIND <template_id> [world|char|bags|all]"
  body: |
    NAME
        ifind - find item instances by template ID

    SYNOPSIS
        IFIND <template_id> [world|char|bags|all]

    DESCRIPTION
        Searches for all instances of a given item template in the game world.
        Results are grouped by location type:

        world  - Items in rooms (on the ground)
        char   - Items in character inventories
        bags   - Items inside containers
        all    - All locations (default)

        Each section shows relevant details about where the item is located.

    ARGUMENTS
        template_id   The numeric ID of the item template to search for.
        scope         Optional: world, char, bags, or all (default: all)

    EXAMPLE
        ifind 101              -- find all instances of item #101
        ifind 202 world        -- find item #202 only in rooms
        ifind 305 char         -- find item #305 only in inventories

istat:
  summary: "Show detailed stat block for an inventory item (GM-only)"
  visibility: gm
  synopsis:
    - "ISTAT <item>"
  body: |
    NAME
        istat - show item stat block

    SYNOPSIS
        ISTAT <item>

    DESCRIPTION
        Displays the full stat block for an item in your inventory. This is
        useful for inspecting dynamically generated loot to see what stats
        were rolled.
        
        The output includes:
        
        GENERAL INFO:
            Display name, base template name, instance ID, template ID,
            item level, and whether the item was dynamically generated.
        
        TEMPLATE INFO:
            Key, types, subtype, slot, weight, base value, traits, keywords.
        
        WEAPON STATS (if applicable):
            Base die, multiplier, ability score & multiplier, damage formula,
            hands required, weapon category and family.
        
        ARMOR/SAVES (if applicable):
            Armor save bonus, fortitude/reflex/will save bonuses,
            armor category.
        
        SPELL EFFECTS (if any):
            Up to 4 spell effect IDs.
        
        VALUE:
            The effective sell value (may be overridden from template).
        
        Fields marked "(override)" indicate the value was randomly generated
        and differs from the base template.

    ARGUMENTS
        item    Name (or partial name) of an item in your inventory.

    EXAMPLE
        istat rusty sword      -- show stats for "Rusty Sword"
        istat plate            -- show stats for first matching plate item
        istat dagger           -- show stats for first matching dagger

mstat:
  summary: "Show detailed stat block for a mobile in the room (GM-only)"
  visibility: gm
  synopsis:
    - "MSTAT <mobile>"
  body: |
    NAME
        mstat - show mobile stat block

    SYNOPSIS
        MSTAT <mobile>

    DESCRIPTION
        Displays the full stat block for a mobile (NPC/monster) in your
        current room. This is useful for inspecting mob stats, combat
        values, and spawn information.
        
        The output includes:
        
        GENERAL INFO:
            Name, short description, instance ID, template ID, level,
            current room, and spawn room.
        
        TEMPLATE INFO:
            Key, long description, and keywords.
        
        VITALS:
            Current and max HP, MP, and MV.
        
        ABILITIES:
            STR, DEX, CON, INT, WIS, CHA with modifiers.
        
        DEFENSES:
            Armor class, fortitude, reflex, and will saves.
        
        COMBAT:
            Attack bonus, base damage, damage bonus, damage roll formula,
            and autoflee HP percentage.
        
        BEHAVIORS:
            List of behavior flags (AGGRESSIVE, PASSIVE, COWARDLY, etc.)
        
        STATE:
            Dead status, current target information.
        
        REWARDS:
            XP value, gold range, respawn time, aggro range.
        
        SPAWN INFO:
            Origin UUID, spawned timestamp, death timestamp.

    ARGUMENTS
        mobile    Name, keyword, or partial name of a mobile in the room.

    EXAMPLE
        mstat rat              -- show stats for a rat in the room
        mstat guard            -- show stats for a guard
        mstat fido             -- show stats for the mob named "Fido"

goto:
  summary: "Teleport directly to a room or player (GM-only)"
  visibility: gm
  synopsis:
    - "GOTO <room_id>"
    - "GOTO <player_name>"
  body: |
    NAME
        goto - teleport to a room or player

    SYNOPSIS
        GOTO <room_id>
        GOTO <player_name>

    DESCRIPTION
        Instantly teleports you to the specified room by its numeric ID,
        or to the location of another player by name.
        
        When given a player name, it will:
        - First search online players (case-insensitive prefix match)
        - If not found online, search offline players by exact name
        - Teleport you to their current (or last known) room
        
        Useful for quickly navigating the world during testing or administration,
        or for finding and assisting players.

    ARGUMENTS
        room_id       The numeric ID of the destination room.
        player_name   The name (or prefix) of a player to teleport to.

    EXAMPLE
        goto 3001          -- teleport to room #3001
        goto 1             -- teleport to room #1
        goto Tass          -- teleport to player Tass's location
        goto ta            -- teleport to first player starting with 'ta'

dbinfo:
  summary: "(GM) inspect database table schemas"
  visibility: gm
  synopsis:
    - "dbinfo [TABLE_NAME]"
  body: |
    NAME
        dbinfo - list columns for important database tables

    SYNOPSIS
        dbinfo [TABLE_NAME]

    DESCRIPTION
        Prints column names and types for database tables. Without arguments shows several item-related tables.

    EXAMPLE
        dbinfo
        dbinfo item_template

debug:
  summary: "(GM) toggle debug channel output"
  visibility: gm
  synopsis:
    - "DEBUG"
  body: |
    NAME
        debug - toggle debug channel output

    SYNOPSIS
        DEBUG

    DESCRIPTION
        Toggles the debug channel on or off for your session. When enabled,
        you will see [DEBUG] messages that provide detailed information about
        game mechanics, skill checks, proficiency rolls, and other internal
        systems.
        
        Debug output is only available to GMs and is toggled per-session.
        Each time you log in, debug starts OFF.
        
        Useful for:
        - Troubleshooting skill/spell mechanics
        - Verifying proficiency growth calculations  
        - Understanding combat formulas
        - Testing new game features

    EXAMPLE
        debug          -- toggle debug channel on/off

    SEE ALSO
        gmchat

peace:
  summary: "(GM) end all combat in the current room"
  visibility: gm
  synopsis:
    - "PEACE"
  body: |
    NAME
        peace - end combat in the room

    SYNOPSIS
        PEACE

    DESCRIPTION
        Immediately ends all active combat in your current room. All combatants
        are removed from combat and returned to a peaceful state.
        
        This command can be used whether you are in combat or not.

    EXAMPLE
        peace          -- end all fighting in the room

    SEE ALSO
        kill, combat

slay:
  summary: "(GM) instantly kill a mob"
  visibility: gm
  synopsis:
    - "SLAY [target]"
  body: |
    NAME
        slay - instantly kill a mob

    SYNOPSIS
        SLAY [target]

    DESCRIPTION
        Instantly kills a mobile creature. This is the ultimate GM kill command
        that bypasses all combat mechanics.
        
        If you are in combat:
        - Without an argument, slays your current enemy
        - With an argument, slays the specified mob in the fight
        
        If you are not in combat:
        - Requires a target argument
        - Finds and instantly kills the specified mob in your room
        - Creates a corpse as if the mob died normally
        - Does NOT initiate combat first

    ARGUMENTS
        target    The name (or partial name) of the mob to slay. Optional in combat.

    EXAMPLE
        slay               -- (in combat) slay your current enemy
        slay goblin        -- slay the goblin
        slay wolf          -- slay the wolf in the room

    SEE ALSO
        kill, peace, restore

restore:
  summary: "(GM) restore a character's HP, MP, and MV to full"
  visibility: gm
  synopsis:
    - "RESTORE [character]"
  body: |
    NAME
        restore - restore vitals to full

    SYNOPSIS
        RESTORE [character]

    DESCRIPTION
        Restores the target character's HP, MP, and MV to their maximum values.
        If no character is specified, restores yourself.
        
        This command works whether the target is in combat or not. If used on
        a character in combat, their combat stats are updated immediately.

    ARGUMENTS
        character   Optional name of the character to restore. Defaults to self.

    EXAMPLE
        restore            -- restore yourself to full
        restore Alice      -- restore Alice to full health

    SEE ALSO
        peace, promote

promote:
  summary: "(GM) level up a character"
  visibility: gm
  synopsis:
    - "PROMOTE <character> [level_target]"
  body: |
    NAME
        promote - level up a character

    SYNOPSIS
        PROMOTE <character> [level_target]

    DESCRIPTION
        Levels up a character. If no level target is specified, the character
        gains one level. If a level target is specified, the character is
        promoted repeatedly until they reach that level.
        
        Each level-up grants:
        - HP/MP/MV bonuses based on class
        - Any skills that unlock at that level
        - Full restoration of all vitals
        
        The level target must be between 1 and 60, and must be higher than
        the character's current level (demotion is not implemented).

    ARGUMENTS
        character      The name of the character to promote.
        level_target   Optional target level (1-60). Defaults to current + 1.

    EXAMPLE
        promote Alice          -- promote Alice by one level
        promote Bob 10         -- promote Bob to level 10
        promote Charlie 50     -- promote Charlie to max normal level

    SEE ALSO
        restore

spawn:
  summary: "(GM) create items with scaled stats, mobs, or gold"
  visibility: gm
  synopsis:
    - "SPAWN ITEM <template_id> [level]"
    - "SPAWN MOB <mob_id> [room_id]"
    - "SPAWN GOLD <amount>"
  body: |
    NAME
        spawn - create items with scaled stats, mobs, or gold

    SYNOPSIS
        SPAWN ITEM <template_id> [level]
        SPAWN MOB <mob_id> [room_id]
        SPAWN GOLD <amount>

    DESCRIPTION
        Creates instances of items, mobs, or gold for testing and development.
        
        For ITEM: creates an item using the specified template with randomly
        generated stats scaled to the given level. If no level is specified,
        uses your character's total level.
        
        - Weapons get scaled: base die, multiplier, ability multiplier, magic effects
        - Armor gets scaled: armor save, fort/ref/will saves, magic effects
        - Other items just get the item level set
        
        Use ISTAT to inspect the generated item's actual stats.
        
        For MOB: creates a mobile NPC instance in the specified room using the mob
        template ID. If room_id is omitted, the mob spawns in your current room.
        
        For GOLD: instantly gives the specified amount of gold to yourself.

    ARGUMENTS
        template_id   The numeric ID of the item template (use ILIST to search).
        level         Optional level for stat scaling (1-55).
                      Defaults to your character's total level.
        mob_id        The numeric ID of the mob template (see mobiles.yaml).
        room_id       Optional room ID where the mob should appear.
        amount        Amount of gold to create.

    EXAMPLE
        spawn item 7            -- spawn Iron Sword at your level
        spawn item 7 30         -- spawn Iron Sword with level 30 stats
        spawn item 130 50       -- spawn Plate Helm with level 50 stats
        spawn mob 601           -- spawn mob template #601 in your room
        spawn gold 100000       -- gives yourself 100,000 gold pieces

    SEE ALSO
        istat, ilist, ifind
