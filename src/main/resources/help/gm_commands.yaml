cflag:
  summary: "Manage per-character key/value flags (GM-only)"
  visibility: gm
  synopsis:
    - "CFLAG SET <char> <flag> <value>"
    - "CFLAG CHECK <char> <flag>"
  body: |
    NAME
        cflag - manage per-character key/value flags

    SYNOPSIS
        CFLAG SET <char> <flag> <value>
        CFLAG CHECK <char> <flag>

    DESCRIPTION
        GMs may set or inspect arbitrary key/value flags on characters.
        The GM permission is granted only when the character has the 'is_gm' flag set to '1'.

    EXAMPLE
        CFLAG SET Alice is_gm 1
        CFLAG CHECK Alice is_gm

cskill:
  summary: "Grant a skill to a character at a proficiency level (GM-only)"
  visibility: gm
  synopsis:
    - "CSKILL <character> <skill_id> [amount]"
    - "CSKILL LIST"
  body: |
    NAME
        cskill - grant a skill to a character or list available skills

    SYNOPSIS
        CSKILL <character> <skill_id> [amount]
        CSKILL LIST

    DESCRIPTION
        Grants a skill to a character regardless of their class, setting their
        proficiency to the specified amount (1-100). If the amount is omitted,
        defaults to 100 (mastered).

        This can also be used to update an existing skill's proficiency.
        
        Use CSKILL LIST to see all available skills and their IDs.

    ARGUMENTS
        character     The name of the target character.
        skill_id      The numeric ID of the skill to grant.
        amount        Optional proficiency level from 1 to 100. Defaults to 100.

    EXAMPLE
        cskill list              -- shows all skills with IDs
        cskill Alice 1           -- grants skill #1 to Alice at 100%
        cskill Bob 5 50          -- grants skill #5 to Bob at 50%

cspell:
  summary: "Grant a spell to a character at a proficiency level (GM-only)"
  visibility: gm
  synopsis:
    - "CSPELL <character> <spell_id> [amount]"
    - "CSPELL LIST"
  body: |
    NAME
        cspell - grant a spell to a character or list available spells

    SYNOPSIS
        CSPELL <character> <spell_id> [amount]
        CSPELL LIST

    DESCRIPTION
        Grants a spell to a character regardless of their class, setting their
        proficiency to the specified amount (1-100). If the amount is omitted,
        defaults to 100 (mastered).

        This can also be used to update an existing spell's proficiency.
        
        Use CSPELL LIST to see all available spells and their IDs.

    ARGUMENTS
        character     The name of the target character.
        spell_id      The numeric ID of the spell to grant.
        amount        Optional proficiency level from 1 to 100. Defaults to 100.

    EXAMPLE
        cspell list              -- shows all spells with IDs
        cspell Alice 1           -- grants spell #1 to Alice at 100%
        cspell Bob 5 50          -- grants spell #5 to Bob at 50%

ilist:
  summary: "Search item templates by name (GM-only)"
  visibility: gm
  synopsis:
    - "ILIST <search_string>"
  body: |
    NAME
        ilist - search item templates

    SYNOPSIS
        ILIST <search_string>

    DESCRIPTION
        Searches all item templates for names containing the given string.
        The search is case-insensitive and matches partial names.

        Results show ID, name, type, and a truncated description for each
        matching item template.

    ARGUMENTS
        search_string   Text to search for in item names.

    EXAMPLE
        ilist dag              -- finds "dagger", "small dagger", etc.
        ilist sword            -- finds all swords
        ilist plate            -- finds plate armor pieces

ifind:
  summary: "Find all instances of an item template in the game (GM-only)"
  visibility: gm
  synopsis:
    - "IFIND <template_id> [world|char|bags|all]"
  body: |
    NAME
        ifind - find item instances by template ID

    SYNOPSIS
        IFIND <template_id> [world|char|bags|all]

    DESCRIPTION
        Searches for all instances of a given item template in the game world.
        Results are grouped by location type:

        world  - Items in rooms (on the ground)
        char   - Items in character inventories
        bags   - Items inside containers
        all    - All locations (default)

        Each section shows relevant details about where the item is located.

    ARGUMENTS
        template_id   The numeric ID of the item template to search for.
        scope         Optional: world, char, bags, or all (default: all)

    EXAMPLE
        ifind 101              -- find all instances of item #101
        ifind 202 world        -- find item #202 only in rooms
        ifind 305 char         -- find item #305 only in inventories

goto:
  summary: "Teleport directly to a room (GM-only)"
  visibility: gm
  synopsis:
    - "GOTO <room_id>"
  body: |
    NAME
        goto - teleport to a room

    SYNOPSIS
        GOTO <room_id>

    DESCRIPTION
        Instantly teleports you to the specified room by its numeric ID.
        Useful for quickly navigating the world during testing or administration.

    ARGUMENTS
        room_id   The numeric ID of the destination room.

    EXAMPLE
        goto 3001          -- teleport to room #3001
        goto 1             -- teleport to room #1

dbinfo:
  summary: "(GM) inspect database table schemas"
  visibility: gm
  synopsis:
    - "dbinfo [TABLE_NAME]"
  body: |
    NAME
        dbinfo - list columns for important database tables

    SYNOPSIS
        dbinfo [TABLE_NAME]

    DESCRIPTION
        Prints column names and types for database tables. Without arguments shows several item-related tables.

    EXAMPLE
        dbinfo
        dbinfo item_template

debug:
  summary: "(GM) toggle debug channel output"
  visibility: gm
  synopsis:
    - "DEBUG"
  body: |
    NAME
        debug - toggle debug channel output

    SYNOPSIS
        DEBUG

    DESCRIPTION
        Toggles the debug channel on or off for your session. When enabled,
        you will see [DEBUG] messages that provide detailed information about
        game mechanics, skill checks, proficiency rolls, and other internal
        systems.
        
        Debug output is only available to GMs and is toggled per-session.
        Each time you log in, debug starts OFF.
        
        Useful for:
        - Troubleshooting skill/spell mechanics
        - Verifying proficiency growth calculations  
        - Understanding combat formulas
        - Testing new game features

    EXAMPLE
        debug          -- toggle debug channel on/off

    SEE ALSO
        gmchat

peace:
  summary: "(GM) end all combat in the current room"
  visibility: gm
  synopsis:
    - "PEACE"
  body: |
    NAME
        peace - end combat in the room

    SYNOPSIS
        PEACE

    DESCRIPTION
        Immediately ends all active combat in your current room. All combatants
        are removed from combat and returned to a peaceful state.
        
        This command can be used whether you are in combat or not.

    EXAMPLE
        peace          -- end all fighting in the room

    SEE ALSO
        kill, combat

restore:
  summary: "(GM) restore a character's HP, MP, and MV to full"
  visibility: gm
  synopsis:
    - "RESTORE [character]"
  body: |
    NAME
        restore - restore vitals to full

    SYNOPSIS
        RESTORE [character]

    DESCRIPTION
        Restores the target character's HP, MP, and MV to their maximum values.
        If no character is specified, restores yourself.
        
        This command works whether the target is in combat or not. If used on
        a character in combat, their combat stats are updated immediately.

    ARGUMENTS
        character   Optional name of the character to restore. Defaults to self.

    EXAMPLE
        restore            -- restore yourself to full
        restore Alice      -- restore Alice to full health

    SEE ALSO
        peace, promote

promote:
  summary: "(GM) level up a character"
  visibility: gm
  synopsis:
    - "PROMOTE <character> [level_target]"
  body: |
    NAME
        promote - level up a character

    SYNOPSIS
        PROMOTE <character> [level_target]

    DESCRIPTION
        Levels up a character. If no level target is specified, the character
        gains one level. If a level target is specified, the character is
        promoted repeatedly until they reach that level.
        
        Each level-up grants:
        - HP/MP/MV bonuses based on class
        - Any skills that unlock at that level
        - Full restoration of all vitals
        
        The level target must be between 1 and 60, and must be higher than
        the character's current level (demotion is not implemented).

    ARGUMENTS
        character      The name of the character to promote.
        level_target   Optional target level (1-60). Defaults to current + 1.

    EXAMPLE
        promote Alice          -- promote Alice by one level
        promote Bob 10         -- promote Bob to level 10
        promote Charlie 50     -- promote Charlie to max normal level

    SEE ALSO
        restore

spawn:
  summary: "(GM) create item or mob instances in the world"
  visibility: gm
  synopsis:
    - "SPAWN ITEM <template_id> [room_id]"
    - "SPAWN MOB <mob_id> [room_id]"
  body: |
    NAME
        spawn - create item or mob instances

    SYNOPSIS
        SPAWN ITEM <template_id> [room_id]
        SPAWN MOB <mob_id> [room_id]

    DESCRIPTION
        Creates a new instance of an item or mob (mobile NPC) based on its template ID.
        
        For ITEM: creates an item_instance in the specified room. If room_id is omitted,
        the item is spawned in your current room.
        
        For MOB: not yet implemented, reserved for future use.

    ARGUMENTS
        template_id   The numeric ID of the item template (see items.yaml).
        mob_id        The numeric ID of the mob template (not yet implemented).
        room_id       Optional room ID where the item/mob should appear.
                      Defaults to the GM's current room.

    EXAMPLE
        spawn item 202          -- spawns a longsword in your current room
        spawn item 130 3001     -- spawns plate helm in room 3001
        spawn mob 1             -- (future) spawn mob template #1
